# ストリーミングサービス改善施策の業務フロー

## 概略フロー
```mermaid
graph LR
    提案[施策提案]
    評価[評価フェーズ]
    承認[承認フェーズ]
    開発[開発フェーズ]
    リリース[リリース判定]
    効果測定[効果測定]

    提案 -->|"改善施策を提案する"| 評価
    評価 -->|"承認を依頼する"| 承認
    承認 -->|"要件定義を依頼する"| 開発
    開発 -->|"リリース判定を依頼する"| リリース
    リリース -->|"効果測定を開始する"| 効果測定

    %% 代替パス
    評価 -.->|"法務確認を依頼する"| 法務[法務確認]
    法務 -.->|"確認結果を通知する"| 承認
    リリース -.->|"品質レビューを依頼する"| 品質[品質保証]
    品質 -.->|"レビュー結果を通知する"| リリース
```

## 詳細フロー
```mermaid
graph TB
    %% 提案フェーズ
    提案1[改善施策が提案された]
    提案2[代理店から施策が提案された]
    
    %% 評価フェーズ
    評価1[実現可能性が評価された]
    評価2[費用対効果が算出された]
    評価3[法令遵守度が確認された]
    評価4[利用規約への適合性が確認された]
    
    %% 法務確認フェーズ
    法務1[法務部へ相談された]
    法務2[利用規約の改定が必要と判断された]
    法務3[利用規約が改定された]
    法務4[会員から同意が得られた]
    
    %% 承認フェーズ
    承認1[上位組織による承認が必要と判断された]
    承認2[施策が承認された]
    承認3[施策が条件付きで承認された]
    承認4[施策が却下された]
    
    %% 開発フェーズ
    開発1[要件定義が開発チームに引き渡された]
    開発2[要件定義が完了した]
    開発3[設計が完了した]
    開発4[実装が完了した]
    
    %% リリース判定フェーズ
    リリース1[リリース判定が実施された]
    リリース2[リリースが承認された]
    リリース3[リリースが条件付きで承認された]
    リリース4[リリースが延期された]
    
    %% 効果測定フェーズ
    効果1[施策の効果が評価された]
    効果2[フィードバックが完了した]

    %% フローの接続とコマンド/システム連携の表示
    提案1 & 提案2 -->|"実現可能性の評価を依頼する"| 評価1
    評価1 -->|"プロジェクト管理システム: 評価タスク割当"| 評価2
    評価2 -->|"基幹システム: コスト試算"| 評価3
    評価3 -->|"法務システム: 法令チェック"| 評価4
    
    評価4 --> 判断1{利用規約改定必要?}
    判断1 -->|"法務確認を依頼する"| 法務1
    判断1 -->|No| 判断2
    
    法務1 -->|"法務システム: 規約チェック"| 法務2
    法務2 -->|"法務システム: 規約改定"| 法務3
    法務3 -->|"会員管理システム: 同意依頼"| 法務4
    法務4 -->|"会員管理システム: 同意状況確認"| 判断2
    
    判断2{費用1000万超?} -->|"上位組織の承認を依頼する"| 承認1
    判断2 -->|No| 承認2
    
    承認1 -->|"プロジェクト管理システム: 承認フロー開始"| 承認2
    承認2 -->|"要件定義を依頼する"| 開発1
    
    承認3 -->|"フィージビリティスタディを実施する"| 再評価{再評価}
    再評価 -->|"承認を再依頼する"| 承認2
    
    開発1 -->|"プロジェクト管理システム: 開発タスク作成"| 開発2
    開発2 -->|"設計を開始する"| 開発3
    開発3 -->|"実装を開始する"| 開発4
    
    開発4 -->|"リリース判定を依頼する"| リリース1
    
    リリース1 --> 判断3{品質確認必要?}
    判断3 -->|"品質保証部レビューを依頼する"| 品質確認[品質保証部レビュー]
    品質確認 -->|"品質管理システム: レビュー結果"| リリース2
    判断3 -->|No| リリース2
    
    リリース2 -->|"効果測定を開始する"| 効果1
    効果1 -->|"基幹システム: 効果分析"| 効果2
    
    %% 条件付きパス
    リリース3 -.->|"条件対応を実施する"| 条件対応[条件対応]
    条件対応 -.->|"リリース再判定を依頼する"| リリース2
    
    %% スタイル
    classDef default fill:#f9f,stroke:#333,stroke-width:2px;
    classDef decision fill:#ff9,stroke:#333,stroke-width:2px;
    class 判断1,判断2,判断3,再評価 decision;
```

## 備考

### 概略フローの特徴
- 6つの主要フェーズで構成
- 主要なコマンドをエッジ上に表示
- 代替パスのコマンドも明示

### 詳細フローの特徴
1. **コマンドの表現**
   - エッジ上に青字でコマンドを表示
   - 主要な業務指示や依頼を明示

2. **システム連携の表現**
   - エッジ上に緑字でシステム連携を表示
   - 具体的な連携内容を記載

3. **判断フローの明確化**
   - 黄色の判断ノードで分岐を表現
   - 判断基準を明示

4. **代替パスの表現**
   - 点線で条件付きフローを表現
   - 再評価ループの明示

5. **外部システムとの連携**
   - プロジェクト管理システム
   - 会員管理システム
   - 法務システム
   - 品質管理システム
   - 基幹システム
